{% extends 'accounts/main.html' %}
{% block content %}


<br/>
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'studentPage' %}">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">List of Quizzes</li>
  </ol>
</nav>
 <div class="row d-flex justify-content-between align-items-center">

        <div class="col-auto d-flex justify-content-center align-items-center">
        <h2>{{ classData.className }}</h2>

      </div>
      <div class="col-auto">
        <p class="my-0">Subject Description: <b>{{ classData.subject }}</b></p>
        <p class="my-0">Section: <b>{{ classData.section }}</b></p>
        <p class="my-0">Enrollment Key: <b>{{ classData.enrollKey }}</b></p>
      </div>
 </div>


<hr>

<h4>List of Quizzes</h4>
<div class="row mt-4">
    <table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">#</th>
        <th scope="col" width="5px">ID</th>
      <th scope="col">Quiz Title</th>
      <th scope="col">Topic</th>
      <th scope="col" width="200px">Action</th>
    </tr>
  </thead>
  <tbody>
    {% if results %}
        {% for row in results %}
        <tr>
          <td scope="row">{{forloop.counter}}</td>
            <td>{{row.0}}</td>
          <td>{{row.2}} - {{row.3}}</td>
          <td>{{row.4}}</td>
          <td class="">
              <a class="btn btn-warning btn-sm btn-block text-white"  data-bs-toggle="modal" data-bs-target="#startQuiz" data-value="{{ row.0 }}"><i class="fa fa-edit me-2"></i>Take the Quiz</a>
          </td>
        </tr>
        {% endfor %}
    {% else %}
        <tr>
            <td colspan="4">No results found.</td>
        </tr>
    {% endif %}
  </tbody>
</table>



</div>
{% for message in messages %}
        {% if 'success' in message.tags %}
            <div class="alert alert-success" role="alert">
             {{message}}
            </div>
        {% elif 'info' in message.tags %}
            <div class="alert alert-info" role="alert">
             {{message}}
            </div>
        {% endif %}
    {% endfor %}

<!-- Modal -->
<div class="modal fade" id="startQuiz" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
        <form method="post">
            {% csrf_token %}
          <div class="modal-body text-center mb-4">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Take the Quiz</h1>
              <p class="mt-3">You are given up to 5 minutes duration to take the whole quiz. The quiz will be automatically saved when the timer is up.</p>
              <br>

              <a href="{% url 'studentExam' quizId %}" class="quizLink bg-warning rounded-circle" style="padding: 15px 18px"><i class="fa fa-play text-white" style="margin-left:2px;"></i>
              </a>
          </div>
        </form>
    </div>
  </div>
</div>

{% endblock %}

